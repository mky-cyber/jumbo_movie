{"version":3,"sources":["context/MovieContext.js","components/SearchBar.js","api/base.js","components/MovieList.js","components/MainPage.js","components/MovieDetailPage.js","App.js","reportWebVitals.js","index.js"],"names":["MovieContext","createContext","Search","styled","Input","SearchBar","setMovie","useContext","placeholder","size","data-cy","suffix","SearchOutlined","onPressEnter","ev","title","target","value","replace","console","log","buildUrl","type","para","baseUrl","key","process","Movie","Card","Content","div","MovieList","url","Meta","useState","list","setList","movie","a","fetch","json","then","res","results","catch","err","useEffect","fetchData","mystyle","color","fontWeight","display","style","map","item","index","release_date","poster_path","id","imgUrl","to","pathname","hoverable","width","cover","alt","src","description","MainPage","Header","Layout","Sider","GoBackButton","Button","BackButton","history","useHistory","onClick","goBack","icon","ArrowLeftOutlined","MovieDetailPage","useParams","detail","setDetail","backImg","backdrop_path","Head","Item","vote_average","Math","floor","runtime","overview","App","movieValue","useMemo","Provider","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f6a9f88.chunk.js","sourcesContent":["import {createContext} from 'react'\n\nconst MovieContext = createContext();\n\nexport default MovieContext;","import React, { useContext } from \"react\";\nimport { Input } from \"antd\";\nimport styled from \"styled-components\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport MovieContext from \"../context/MovieContext\";\n\nconst Search = styled(Input)`\n\t&& {\n\t\tcolor: green;\n\t\tborder-radius: 100px;\n\t\theight: 3.5em;\n\t\tinput,\n\t\tselect,\n\t\ttextarea,\n\t\tpadding-top: 90px;\n\t\tplaceholder {\n\t\t\tcolor: green;\n\t\t}\n\t}\n`;\n\nexport default function SearchBar() {\n\tconst { setMovie } = useContext(MovieContext);\n\treturn (\n\t\t<Search\n\t\t\tplaceholder=\"Search\"\n\t\t\tsize=\"large\"\n\t\t\tdata-cy='search'\n\t\t\tsuffix={<SearchOutlined />}\n\t\t\tonPressEnter={(ev) => {\n\t\t\t\tlet title = ev.target.value;\n\t\t\t\ttitle = title.replace(/\\s/g, '%20');\n\t\t\t\tsetMovie(title);\n\t\t\t\tconsole.log(title);\n\t\t\t}}\n\t\t/>\n\t);\n};\n","export default function buildUrl(type, para) {\n\tconst key = process.env.REACT_APP_MOVIE_API_KEY;\n\tlet baseUrl;\n\tswitch (type) {\n\t\tcase \"search\":\n\t\t\tbaseUrl = `https://api.themoviedb.org/3/movie/${para}?api_key=${key}`;\n\t\t\tbreak;\n\t\tcase \"query\":\n\t\t\tbaseUrl = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${para}`;\n\t\t\tbreak;\n\t\tcase \"popular\":\n\t\t\tbaseUrl = `https://api.themoviedb.org/3/movie/popular?api_key=${key}&language=en-US&page=1`;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbaseUrl = \"\";\n\t}\n\tconsole.log(\"type, para, base url\", type, para, baseUrl);\n\treturn baseUrl;\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport MovieContext from \"../context/MovieContext\";\nimport styled from \"styled-components\";\nimport buildUrl from \"../api/base\";\nimport { Card } from \"antd\";\nimport {Link} from \"react-router-dom\";\n\nconst Movie = styled(Card)`\n\t&& {\n\t\tmargin: 0.4rem 0 2.4rem 1.3rem;\n\t\tpadding: 0.8rem;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t}\n`;\n\nconst Content = styled.div`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: auto;\n\tpadding: 0 0.8rem;\n`;\n\nconst MovieList = () => {\n\tconst { Meta } = Card;\n\tconst [list, setList] = useState([]);\n\tconst { movie } = useContext(MovieContext);\n\tlet url;\n\n\tif (movie) {\n\t\turl = buildUrl(\"query\", movie);\n\t} else {\n\t\turl = buildUrl(\"popular\", \"\");\n\t}\n\n\tasync function fetchData(url) {\n\t\tconst res = await fetch(url);\n\t\tres.json()\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.results);\n\t\t\t\tsetList(res.results);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tuseEffect(() => {\n\t\tfetchData(url);\n\t}, [url]);\n\n\tconst mystyle = {\n\t\tcolor: \"white\",\n\t\tsize: \"64px\",\n\t\tfontWeight: \"bold\",\n\t\tdisplay: \"block\"\n\t  };\n\n\treturn (\n\t\t\t<Content data-cy='list'>\n\t\t\t{!movie &&\n\t\t\t\t<h1 style={mystyle}>Popular Movies</h1>\n\t\t\t}\n\t\t\t{movie && \n\t\t\t\t<h1 style={mystyle}>Results:</h1>\n\t\t\t}\n\t\t\t\t{list &&\n\t\t\t\t\tlist.map((item, index) => {\n\t\t\t\t\t\tconst { title, release_date, poster_path, id } = item;\n\t\t\t\t\t\tconst imgUrl = `https://image.tmdb.org/t/p/w500${poster_path}`;\n\t\t\t\t\t\tif (title) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Link to={\n\t\t\t\t\t\t\t\t\t{pathname: `/movie/${id}`}\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t<Movie\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\thoverable\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\n\t\t\t\t\t\t\t\t\t\tcover={<img alt={title} src={imgUrl} />}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Meta\n\t\t\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\t\t\tdescription={release_date}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Movie>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t})}\n\t\t\t</Content>\n\t);\n};\n\nexport default MovieList;\n","import React from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport MovieList from \"./MovieList\";\n\nexport default function MainPage() {\n\treturn (\n\t\t<>\n\t\t\t<SearchBar />\n\t\t\t<MovieList />\n\t\t</>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport buildUrl from \"../api/base\";\nimport { Layout, Divider, Descriptions, Image, Button } from \"antd\";\nimport { useParams } from \"react-router\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\n\nconst { Header, Content, Sider } = Layout;\n\nconst GoBackButton = styled(Button)`\n\tbackground: rgba(0,0,0,0.5);\n\tborder: none;\n\tposition: relative;\n\ttop: 25px;\n\tright: 50px;\t\n`;\n\nfunction BackButton() {\n\tlet history = useHistory();\n\treturn (\n\t\t<GoBackButton type=\"primary\" onClick={() => history.goBack()} icon={<ArrowLeftOutlined />} />\n\t);\n}\n\nexport default function MovieDetailPage() {\n\tconst { id } = useParams();\n\tconsole.log(id);\n\tconst [detail, setDetail] = useState(\"\");\n\tconst url = buildUrl(\"search\", id);\n\tconsole.log(\"Here is the url:\", url);\n\n\tasync function fetchData(url) {\n\t\tconst res = await fetch(url);\n\t\tres.json()\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tsetDetail(res);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tuseEffect(() => {\n\t\tfetchData(url);\n\t}, [url]);\n\tconst imgUrl = `https://image.tmdb.org/t/p/w500${detail.poster_path}`;\n\tconst backImg = `https://image.tmdb.org/t/p/original${detail.backdrop_path}`;\n\tconst Head = styled(Header)`\n\t\tbackground-image: url(${backImg});\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover;\n\t\tbackground-position: center center;\n\t\twidth: 100%;\n\t\theight: 20rem;\n\t`;\n\tconsole.log(\"+++++++++++++++\",detail.release_date);\n\t// const [year, month, day] = detail.release_date.split(\"-\");\n\treturn (\n\t\t<Layout data-cy='detail'>\n\t\t\t<Head>\n\t\t\t\t<BackButton></BackButton>\n\t\t\t</Head>\n\t\t\t<Content>\n\t\t\t\t<Layout>\n\t\t\t\t\t<Sider>\n\t\t\t\t\t\t<Image width={200} src={imgUrl}></Image>\n\t\t\t\t\t</Sider>\n\t\t\t\t\t<Content>\n\t\t\t\t\t\t<Descriptions title={detail.title}>\n\t\t\t\t\t\t\t<Descriptions.Item>\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t· {detail.vote_average * 10}% User Score{\" \"}\n\t\t\t\t\t\t\t\t{Math.floor(detail.runtime / 60)}h{\" \"}\n\t\t\t\t\t\t\t\t{detail.runtime % 60}min\n\t\t\t\t\t\t\t</Descriptions.Item>\n\t\t\t\t\t\t</Descriptions>\n\t\t\t\t\t</Content>\n\t\t\t\t</Layout>\n\t\t\t\t<Divider />\n\t\t\t\t<Descriptions title=\"Overview\">\n\t\t\t\t\t<Descriptions.Item>{detail.overview}</Descriptions.Item>\n\t\t\t\t</Descriptions>\n\t\t\t</Content>\n\t\t</Layout>\n\t);\n}\n","import \"./App.css\";\nimport { Layout } from \"antd\";\nimport MovieContext from \"./context/MovieContext\";\nimport styled from \"styled-components\";\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport MainPage from \"./components/MainPage\";\nimport MovieDetailPage from \"./components/MovieDetailPage\";\nimport { useMemo, useState } from \"react\";\n\nconst Content = styled(Layout.Content)`\n\t&& {\n\t\tpadding: 24px 50px;\n\t\tmin-height: 280px;\n\t\tbackground-color: black;\n\t}\n`;\n\nfunction App() {\n\tconst [movie, setMovie] = useState(\"\");\n\tconst movieValue = useMemo(() => ({ movie, setMovie }), [movie, setMovie]);\n\treturn (\n\t\t<Layout>\n\t\t\t<MovieContext.Provider value={movieValue}>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Content>\n\t\t\t\t\t\t\t<Route exact path=\"/\" component={MainPage}>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/movie/:id\" component={MovieDetailPage}>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Content>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</MovieContext.Provider>\n\t\t</Layout>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}